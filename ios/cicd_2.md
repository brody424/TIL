# CI/CD - 2 : Xcode Cloud 적용 후기

현업을 병행하면서 CI/CD R&D를 해서 시간이 조금 걸렸다.  
이 글에서는 직접 사용하면서 느꼈던 장단점에 대해서 정리해보려고 한다.  

<br>

###  느꼈던 장점은 배우기 쉬우며 편리했으며 생산성이 올라갔다.
workflow를 만드는것은 가이드를 보지않아도 될만큼 직관적이였으며 편리했다.  
workflow를 만들고 처음에 빌드했을 때 Build Fail이 되어서 당황했지만 로그가 있어서 확인해보니 바로 Pod 라이브러리 문제라는걸 직감할 수 있었다.  
그 후에 Homebrew를 사용하여 빌드해주는 임시 환경에서 pod 설치하고 install 해주니까 바로 빌드가 잘되어서 만족스러웠다.  

<br>

<b>그리고 내가 사용하는 맥에서 빌드를 하지 않기때문에 생산성이 올라갔다!!</b>

<br>

### 느꼈던 단점은 제공하는 기능이 한정되어 있으며 빌드속도가 느리다는 것이다.
일단 내가 관리하고 있는 프로젝트는 기본적으로 git flow 브랜치전략을 사용하고 있으며   
release 브랜치나 hotfix 브랜치에 코드변화가 있으면 빌드후에 테스트플라이트에 배포하는것까지 설정해서 Xcode Cloud 사용하고 있다.
내가 원했던 것중 하나는 빌드후에 테스트플라이트 배포를 하고 tag를 달아주는것을 원했다.  
custom build script에서 ci_post_xcodebuild를 사용하면 빌드후에 작업을 할 수 있어서 할수는 있지만 workflow에 post-action에 이런게 있었음 더 좋았을텐데... 싶긴 했다.  

<br>

<b>빌드 속도가 매우 느린게 아쉽다. </b>  
집에서 사용하고 있는 아이맥과 회사에서 받은 아이맥에서 아카이브 빌드를 하면 15 ~ 20분 정도가 소요되고있다. (둘다 인텔맥이라 느린거 같은 기분)  
그런데 Xcode Cloud를 사용하여 빌드를 하면 평균 40분정도가 소요된다.   
현재 돌아가는 테스트없이 빌드하는시간만 순수하게 40분정도가 걸리는거는 너무 오래걸리는게 아닌가 싶다.  
그래도 아직 한달에 25시간까지는 무료여서 사용하겠지만 유료가 되고 테스트를 추가한다면 생각보다 사용료가 비쌀것으로 판단된다.  

<br>

### 짧은 한줄평

편하고 생산성이 올라갔으며 아주 만족하면서 사용하고 있다.

