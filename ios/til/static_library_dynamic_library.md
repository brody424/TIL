# Static Library vs Dynamic Library 

Xcode Cloud를 사용하려고 하는데 현재 사용하고 있는 라이브러리중 하나를 커스터마이징 해서 사용하고 있었다.  

원래는 해당 라이브러리를 clone하여 커스터마이징한 라이브러리를 CocoaPod으로 추가해서 사용하면 되지만 우리앱은 비트버킷을 사용하기 떄문에 이방법이 힘들것 같다.  

그래서 라이브러리를 앱내에 저장해서 사용하고 나중에 고도화할 예정이다.  


<br/>

### 프레임워크와 라이브러리
둘 다 다양한 기능과 유틸리티를 제공하여 개발속도를 향상시키고, 코드의 재사용성을 높이는데 도움을 주는 툴이다.  
차이점이라고 한다면 프레임워크는 UIKit, Foundation같이 큰 기능이며 라이브러리가 속할 수있다.   
Alamofire 같이 특정 기능을 수행하는데 중점을 두는것을 라이브러리라고 한다.


### Static Library vs Dynamic Library 
둘 다 코드를 재사용하기 위한 라이브러리의 형태이다.

- 정적 라이브러리
    - 컴파일 시점에 애플리케이션에 포함
    - 빌드 시 라이브러리를 링크하여 실행 파일에 포함시키기 때문에 실행파일 크기가 커지고 오래걸릴 수 있음.
    - 실행 파일 안에 모든 코드가 포함되어 있어서 라이브러리를 참조할 필요가 없어서 실행 시간이 빠름
    - 디버깅이 쉽고 라이브러리 업데이트에 대한 의존성이 없음
    - 프로젝트에 파일이 모두 포함되어 있음.
    
- 동적 라이브러리
    - 런타임 시점에 필요할 때 로드함
    - 애플리케이션 실행 시 라이브러리를 로드하기 때문에 실행 파일의 크기가 작아지며 빌드속도가 빠름
    - 라이브러리를 공유하기 때문에 용량을 절약할 수 있음.
    - 라이브러리가 실행 시점에 로드되기 때문에 애플리케이션 실행 시간이 느려질 수 있음.

<br>

### 동적 라이브러리가 런타임 시점에 필요할 때 로드된다는건 무슨뜻일까?
정적 라이브러리는 빌드가 되어서 앱 실행파일에 들어가 있지만 동적 라이브러리는 앱을 실행할 떄(런타임) 해당 라이브러리가 현재 메모리에 존재하는지 확인하고 있다면 링크를 걸어주고 없다면 실행 후 링크를 걸어줌  
정적라이브러리, 동적라이브러리 둘다 빌드는 컴파일 타임에서 함.

만약 내가 3개의 프로젝트를 만들었으며 Alamofire 라이브러리를 3개의 프로젝트에서 사용하고 있다면 동적라이브러리는 Alamofire 빌드는 한번만 이루어지고 이후에는 라이브러리를 공유해서 사용한다고 함. (라이브러리의 재사용성을 높이고, 빌드 시간을 단축시켜준다고 함)

Alamofire를 사용하고 있는 모든 프로젝트가 종료되었을 때 Alamofire도 메모리에서 사라진다고 한다.

<br> 

### 만약 프로젝트 A에서 Alamofire를 수정했다면 수정된 Alamofire를 프로젝트B,C에서 공유할까?
이럴때는 프로젝트 A의 Alamofire를 정적 라이브러리처럼 사용하여 프로젝트 B에서 다시 빌드를 하고 프로젝트 B,C에서 Alamofire를 공유함.


<br>

### 정적라이브러리, 동적라이브러리 어느영역에 저장되는 걸까?
정적 라이브러리는 코드영역에 저장되고 사용될떄 Stack에 로드됨. 
동적 라이브러리는 런타임에 로드되고 메모리에 할당되며, 힙영역에 저장됨. (call by refrence의 느낌. 링킹이라는거 자체가 주소값으로 연결한다는 뜻이니까)


